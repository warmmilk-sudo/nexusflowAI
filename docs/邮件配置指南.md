# 邮件配置指南

## 概述

NexusFlow AI 支持多种邮件服务商的SMTP配置，系统会根据邮箱域名自动选择最佳配置。

## 支持的邮件服务商

### Gmail
- **SMTP服务器**: smtp.gmail.com
- **端口**: 587
- **加密**: STARTTLS
- **认证**: 应用专用密码（推荐）或邮箱密码

### Outlook/Hotmail
- **SMTP服务器**: smtp-mail.outlook.com
- **端口**: 587
- **加密**: STARTTLS
- **认证**: 邮箱密码

### QQ邮箱
- **SMTP服务器**: smtp.qq.com
- **端口**: 587
- **加密**: STARTTLS
- **认证**: 授权码

### 163邮箱
- **SMTP服务器**: smtp.163.com
- **端口**: 587
- **加密**: STARTTLS
- **认证**: 授权码

### 企业邮箱 (腾讯企业邮)
- **SMTP服务器**: smtp.exmail.qq.com
- **端口**: 465
- **加密**: SSL/TLS
- **认证**: 邮箱密码

## 配置步骤

### 1. 自动配置
系统会根据邮箱域名自动选择SMTP配置：
- 输入邮箱地址和密码
- 系统自动识别邮件服务商
- 应用最佳SMTP设置

### 2. 手动配置
如果自动配置不工作，可以手动指定：
- SMTP服务器地址
- 端口号
- 加密方式

### 3. 密码类型
- **Gmail**: 建议使用应用专用密码
- **企业邮箱**: 使用邮箱登录密码
- **QQ/163**: 使用授权码

## 常见问题

### 认证失败
- 检查邮箱地址和密码是否正确
- Gmail用户确保使用应用专用密码
- 企业邮箱用户使用邮箱密码而不是应用专用密码

### 连接超时
- 检查网络连接
- 确认防火墙设置
- 尝试不同的端口（587或465）

### 证书错误
- 系统已配置忽略证书验证（开发环境）
- 生产环境建议启用证书验证

## 测试方法

### 1. 配置测试
在设置页面配置邮箱后，系统会自动测试连接。

### 2. 发送测试
在批量外发页面发送测试邮件验证配置。

### 3. 日志检查
查看后端控制台日志了解详细错误信息。

## 进度显示

### 发送状态
- **发送中**: 显示旋转图标和"发送中..."文字
- **发送成功**: 更新客户状态为"已发送"
- **发送失败**: 显示具体错误信息

### 用户体验
- 发送按钮在发送过程中禁用
- 实时显示发送进度
- 明确的成功/失败反馈

## 安全建议

### 密码管理
- 使用应用专用密码而不是主密码
- 定期更换邮箱密码
- 不要在代码中硬编码密码

### 连接安全
- 优先使用TLS/SSL加密
- 验证SMTP服务器证书
- 使用安全的端口（587或465）

### 数据保护
- 邮箱配置加密存储
- 密码不在API响应中返回
- 定期备份配置文件